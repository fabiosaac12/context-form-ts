(this["webpackJsonpcontext-form-ts-example"]=this["webpackJsonpcontext-form-ts-example"]||[]).push([[0],{4:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(2),o=n.n(u),i=n(3),c=Object(r.createContext)({}),l=Object(r.createContext)({});function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var h,b,p,g=function(e){var t=e.children,n=Object(r.useState)({}),u=n[0],o=n[1],i=Object(r.useState)({}),m=i[0],h=i[1],b=Object(r.useState)({}),p=b[0],g=b[1],y=Object(r.useState)({}),j=y[0],O=y[1],S=Object(r.useState)(!1),E=S[0],T=S[1],C=Object(r.useState)([]),V=C[0],x=C[1],B=function(e,t){return O((function(n){var r;return s({},n,((r={})[e]=t,r))}))},F=function(e,t){return o((function(n){var r;return s({},n,((r={})[e]=t,r))}))},N=function(e,t){return h(t?function(n){var r;return s({},n,((r={})[e]=t,r))}:function(t){return f(t,[e].map(v))})},k=function(e){return x((function(t){return[].concat(t,[e])}))},w=function(e){return function(t){null===t||void 0===t||t.preventDefault(),!function(){var e={};for(var t in p){var n=u[t]||"",r=p[t],a=r&&r(n);a&&(e[t]=a)}return Object.keys(e).length<1||(h(e),!1)}()?!E&&T(!0):e(u)}},A=Object(r.useMemo)((function(){return{values:u,setValue:F,setValues:o,defaultValues:j,setDefaultValue:B,setDefaultValues:O,errors:m,setError:N,setErrors:h,cleanForm:function(){return o({})},resetForm:function(){o(j);for(var e,t=d(V);!(e=t()).done;){(0,e.value)()}},handleSubmit:w,hasTriedToSubmit:E}}),[u,j,m]);return a.a.createElement(c.Provider,{value:A},a.a.createElement(l.Provider,{value:function(e){return Object(r.useMemo)((function(){return{value:u[e],error:m[e],setValue:function(t){return F(e,t)},setError:function(t){return N(e,t)},setValidateFunction:function(t){return function(e,t){return g((function(n){var r;return s({},n,((r={})[e]=t,r))}))}(e,t)},defaultValue:j[e],setDefaultValue:function(t){return B(e,t)},setResetFieldFunction:k,hasTriedToSubmit:E}}),[u[e],m[e]])}},t))},y=(h=Object(r.memo)((function(e){var t=e.children,n=e.name,r=e.validate,a=e.hasBeenTouched,u=e.hasChanged,o=e.error,i=e.value,c=e.setValue,l=e.setHasChanged,m=e.setHasBeenTouched,d=e.setError;return t(s({},f(e,["children","name","validate","hasBeenTouched","hasChanged","error","value","setValue","setHasChanged","setHasBeenTouched","setError"]),{name:n,input:{value:void 0===i?"":i,onChange:function(e){var t=e.target,n=t.type,a=t.checked,i=t.value,s="checkbox"===n?a:"number"===n?+i:i;c(s),!u&&l(!0);var f=r&&r(s);f!==o&&d(f)},onBlur:function(){if(!a&&(m(!0),!u)){var e=r&&r(i||"");e!==o&&d(e)}}},info:{hasBeenTouched:a,hasChanged:u,error:o}}))}),(function(e,t){return!(e.value!==t.value||e.hasChanged!==t.hasChanged||e.hasBeenTouched!==t.hasBeenTouched||e.error!==t.error)})),function(e){var t=e.defaultValue,n=f(e,["defaultValue"]),u=Object(r.useState)(!1),o=u[0],i=u[1],c=Object(r.useState)(!1),m=c[0],d=c[1],v=Object(r.useContext)(l)(n.name),b=v.setDefaultValue,p=v.setValidateFunction,g=v.hasTriedToSubmit,y=v.setResetFieldFunction,j=f(v,["setDefaultValue","setValidateFunction","hasTriedToSubmit","setResetFieldFunction"]);Object(r.useEffect)((function(){void 0!==t&&(j.setValue(t),b(t)),p(n.validate),y((function(){i(!1),d(!1)}))}),[]),Object(r.useEffect)((function(){g&&(d(!0),i(!0))}),[g]);var O=s({},n,j,{hasChanged:o,hasBeenTouched:m,setHasChanged:i,setHasBeenTouched:d});return a.a.createElement(h,Object.assign({},O))}),j=function(e,t){return void 0===t&&(t=!0),function(n){if(!(("number"===typeof n?n:n.length)>=e))return t}},O=function(e,t){return void 0===t&&(t=!0),function(n){if(!(("number"===typeof n?n:n.length)<=e))return t}},S=[{name:"name",placeholder:"Name",validate:j(2,"2 characters minimum")},{name:"lastName",placeholder:"Last Name",validate:O(20,"20 characters maximum")},{name:"country",placeholder:"Country",validate:j(5,"5 characters minimum")},{name:"age",placeholder:"Age",validate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n,r,a=d(t);!(r=a()).done;){var u=(0,r.value)(e);if(u&&(n=u,"string"===typeof u))break}if(n)return n}}((b="Must be a number",void 0===b&&(b=!0),function(e){if(isNaN(Number(e)))return b}),j(0,"0 minimum"),O(20,"20 maximum")),type:"number"}],E=(p=function(){var e=Object(r.useContext)(c);return a.a.createElement(a.a.Fragment,null,S.map((function(e){return a.a.createElement(y,Object.assign({key:e.name},e),(function(e){var t=e.input,n=e.info,r=Object(i.a)(e,["input","info"]);return a.a.createElement("div",{className:"inputContainer"},a.a.createElement("input",Object.assign({},t,{className:"input"},r)),!!n.error&&n.hasBeenTouched&&a.a.createElement("div",{className:"error"},n.error))}))})),a.a.createElement("button",{onClick:e.handleSubmit((function(e){return alert(JSON.stringify(e,null,4))}))},"Submit"))},function(){return a.a.createElement(g,null,a.a.createElement(p,null))});o.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[4,1,2]]]);
//# sourceMappingURL=main.e240ec07.chunk.js.map